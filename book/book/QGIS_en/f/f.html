
<!DOCTYPE HTML>
<html lang="ja" >
    <head>
        <meta charset="UTF-8">
        <title>Introduction to Leaflet · test</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.1">
        <meta name="author" content="test">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../../QGIS_3days/" />
    
    
    <link rel="prev" href="../e/e.html" />
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"buttons":[{"user":"yamauchi-inochu","repo":"learning","type":"star","size":"small","count":true}]};
    </script>

    
        <link rel="shortcut icon" href='../../img/favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../../img/favicon.ico' type="image/x-icon">
    
    
        <link rel="apple-touch-icon" href='../../img/apple-touch-icon.png'>
    
    
        
        <link rel="apple-touch-icon" sizes="120x120" href="../../img/favicon.ico">
        
        <link rel="apple-touch-icon" sizes="180x180" href="../../img/favicon.ico">
        
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="検索ワードを入力" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    本教材について
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../ArcGISPro/">
            
                <a href="../../ArcGISPro/">
            
                    
                    ArcGIS Pro
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../ArcGISPro/1/1.html">
            
                <a href="../../ArcGISPro/1/1.html">
            
                    
                    ArcGIS Proビギナーズマニュアル
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../ArcGISPro/2/2.html">
            
                <a href="../../ArcGISPro/2/2.html">
            
                    
                    GISデータの取得
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../ArcGISPro/3/3.html">
            
                <a href="../../ArcGISPro/3/3.html">
            
                    
                    空間データの座標変換
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../ArcGISPro/4/4.html">
            
                <a href="../../ArcGISPro/4/4.html">
            
                    
                    ジオリファレンスとジオコーディング
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../ArcGISPro/5/5.html">
            
                <a href="../../ArcGISPro/5/5.html">
            
                    
                    GISデータの作成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../ArcGISPro/6/6.html">
            
                <a href="../../ArcGISPro/6/6.html">
            
                    
                    基本的な空間解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../ArcGISPro/7/7.html">
            
                <a href="../../ArcGISPro/7/7.html">
            
                    
                    領域分析と空間検索
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../../ArcGISPro/8/8.html">
            
                <a href="../../ArcGISPro/8/8.html">
            
                    
                    ポイントデータの可視化と集計
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../../ArcGISPro/9/9.html">
            
                <a href="../../ArcGISPro/9/9.html">
            
                    
                    標高データの可視化と分析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../ArcGISOnline/">
            
                <a href="../../ArcGISOnline/">
            
                    
                    ArcGIS Online
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../ArcGISOnline/1/ao1.html">
            
                <a href="../../ArcGISOnline/1/ao1.html">
            
                    
                    地図の作成とオンライン公開
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../">
            
                <a href="../">
            
                    
                    QGIS:en
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../a/a.html">
            
                <a href="../a/a.html">
            
                    
                    Introduction to QGIS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../b/b.html">
            
                <a href="../b/b.html">
            
                    
                    Dowonlodwing and coordinate conversion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../c/c.html">
            
                <a href="../c/c.html">
            
                    
                    Integrating and Modifying Spatial Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../d/d.html">
            
                <a href="../d/d.html">
            
                    
                    Vector data analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../e/e.html">
            
                <a href="../e/e.html">
            
                    
                    Raster data analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.6" data-path="f.html">
            
                <a href="f.html">
            
                    
                    Introduction to Leaflet
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../QGIS_3days/">
            
                <a href="../../QGIS_3days/">
            
                    
                    QGIS:ja
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../QGIS_3days/day1/">
            
                <a href="../../QGIS_3days/day1/">
            
                    
                    Day 1
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../../QGIS_3days/day1/qgis.html">
            
                <a href="../../QGIS_3days/day1/qgis.html">
            
                    
                    QGIS入門
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../../QGIS_3days/day1/tasks/t_qgis_entry.html">
            
                <a href="../../QGIS_3days/day1/tasks/t_qgis_entry.html">
            
                    
                    課題①
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="../../QGIS_3days/day1/07.html">
            
                <a href="../../QGIS_3days/day1/07.html">
            
                    
                    データダウンロード
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.3.1" data-path="../../QGIS_3days/day1/tasks/t_07.html">
            
                <a href="../../QGIS_3days/day1/tasks/t_07.html">
            
                    
                    課題②
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="../../QGIS_3days/day1/12.html">
            
                <a href="../../QGIS_3days/day1/12.html">
            
                    
                    ネットワーク分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.5" data-path="../../QGIS_3days/day1/tasks/t_12.html">
            
                <a href="../../QGIS_3days/day1/tasks/t_12.html">
            
                    
                    課題③
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../QGIS_3days/day2/">
            
                <a href="../../QGIS_3days/day2/">
            
                    
                    Day 2
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../../QGIS_3days/day2/08_1.html">
            
                <a href="../../QGIS_3days/day2/08_1.html">
            
                    
                    空間座標系の変換
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../../QGIS_3days/day2/tasks/t_08.html">
            
                <a href="../../QGIS_3days/day2/tasks/t_08.html">
            
                    
                    課題①
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.3" data-path="../../QGIS_3days/day2/11.html">
            
                <a href="../../QGIS_3days/day2/11.html">
            
                    
                    基本的な空間解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.4" data-path="../../QGIS_3days/day2/tasks/t_11.html">
            
                <a href="../../QGIS_3days/day2/tasks/t_11.html">
            
                    
                    課題②〜③
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.5" data-path="../../QGIS_3days/day2/13.html">
            
                <a href="../../QGIS_3days/day2/13.html">
            
                    
                    領域分析（バッファ）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.6" data-path="../../QGIS_3days/day2/tasks/t_13.html">
            
                <a href="../../QGIS_3days/day2/tasks/t_13.html">
            
                    
                    課題④
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.7" data-path="../../QGIS_3days/day2/14.html">
            
                <a href="../../QGIS_3days/day2/14.html">
            
                    
                    点データの分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.8" data-path="../../QGIS_3days/day2/tasks/t_14.html">
            
                <a href="../../QGIS_3days/day2/tasks/t_14.html">
            
                    
                    課題⑤
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../QGIS_3days/day3/">
            
                <a href="../../QGIS_3days/day3/">
            
                    
                    Day 3
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../../QGIS_3days/day3/10a.html">
            
                <a href="../../QGIS_3days/day3/10a.html">
            
                    
                    空間データの作成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../../QGIS_3days/day3/tasks/t_10.html">
            
                <a href="../../QGIS_3days/day3/tasks/t_10.html">
            
                    
                    課題①
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../../QGIS_3days/day3/15.html">
            
                <a href="../../QGIS_3days/day3/15.html">
            
                    
                    地形情報の可視化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.4" data-path="../../QGIS_3days/day3/tasks/t_15.html">
            
                <a href="../../QGIS_3days/day3/tasks/t_15.html">
            
                    
                    課題②
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.5" data-path="../../QGIS_3days/day3/15_1.html">
            
                <a href="../../QGIS_3days/day3/15_1.html">
            
                    
                    流域解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.6" data-path="../../QGIS_3days/day3/tasks/t_15_1.html">
            
                <a href="../../QGIS_3days/day3/tasks/t_15_1.html">
            
                    
                    課題③
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.7" data-path="../../QGIS_3days/day3/18.html">
            
                <a href="../../QGIS_3days/day3/18.html">
            
                    
                    空間補間
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.8" data-path="../../QGIS_3days/day3/tasks/t_18.html">
            
                <a href="../../QGIS_3days/day3/tasks/t_18.html">
            
                    
                    課題④〜⑤
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../others/">
            
                <a href="../../others/">
            
                    
                    Others
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../others/mobile/mobile.html">
            
                <a href="../../others/mobile/mobile.html">
            
                    
                    野外での地理情報の収集
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../others/leaflet_ja/leaflet_ja.html">
            
                <a href="../../others/leaflet_ja/leaflet_ja.html">
            
                    
                    Leafletでの地図作成
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            HonKitで公開 
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Introduction to Leaflet</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="introduction-to-leaflet">Introduction to Leaflet</h1>
<p>In this part, the material is explained web map creating methods using Leaflet. This exercise requires a text editor such as Visual Studio Code. The explanations of this material were made refer to Tutorials and Documentation page in <a href="https://leafletjs.com/" target="_blank">Leaflet web site</a>.</p>
<h2 id="menu"><strong>Menu</strong></h2>
<ul>
<li>About the Leaflet</li>
<li>Outcomes of this practice</li>
<li>Introduction</li>
<li>Obtaining APIs information</li>
<li>Save and display a web map</li>
<li>Setting multiple layers</li>
<li>Creating point, line, and polygon data</li>
<li>Implementing a scale</li>
</ul>
<hr>
<h2 id="about-the-leaflet">About the Leaflet</h2>
<p>Leaflet is an open-source JavaScript library for creating web maps. With simple coding, you can easily develop web maps that are available for use on both mobile and PC. For detailed information about Leaflet, please refer to the following link.</p>
<blockquote>
<ul>
<li><a href="http://Leafletjs.com/" target="_blank">Leaflet</a> </li>
<li><a href="https://ja.wikipedia.org/wiki/Leaflet" target="_blank">Wikipedia</a></li>
</ul>
</blockquote>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="outcomes-of-this-practice">Outcomes of this practice</h2>
<p>Before learning how to create a web map using Leaflet, this material displays the entire code as <a href="https://yamauchi-inochu.github.io/webmap/leaflet-practice.html" target="_blank">the finished example</a>. Please refer to the code if you encounter any difficulties during practice.</p>
<pre><code class="lang-html">
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>webmap<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.css&quot;</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=&quot;</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.js&quot;</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=&quot;</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 100%; width: 100%;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">

        <span class="hljs-keyword">const</span> basemap = L.tileLayer(<span class="hljs-string">&apos;https://tile.openstreetmap.org/{z}/{x}/{y}.png&apos;</span>, {
            <span class="hljs-attr">maxZoom</span>: <span class="hljs-number">19</span>,
            <span class="hljs-attr">attribution</span>: <span class="hljs-string">&apos;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;&apos;</span>
        })

        <span class="hljs-keyword">const</span> addmap1 = L.tileLayer(<span class="hljs-string">&apos;https://cyberjapandata.gsi.go.jp/xyz/ort/{z}/{x}/{y}.jpg&apos;</span>, {
        <span class="hljs-attr">maxZoom</span>: <span class="hljs-number">18</span>,
        <span class="hljs-attr">attribution</span>: <span class="hljs-string">&quot;&lt;a href=&apos;https://maps.gsi.go.jp/development/ichiran.html&apos; target=&apos;_blank&apos;&gt;GSI maps&lt;/a&gt;&quot;</span>
        });

        <span class="hljs-keyword">var</span> markers = L.layerGroup();

        L.marker([<span class="hljs-number">34.9849</span>,<span class="hljs-number">135.7586</span>]).bindPopup(<span class="hljs-string">&apos;Kyoto station&apos;</span>).addTo(markers),
        L.marker([<span class="hljs-number">35.0138</span>,<span class="hljs-number">135.7516</span>]).bindPopup(<span class="hljs-string">&apos;Nijoujo&apos;</span>).addTo(markers),
        L.marker([<span class="hljs-number">35.03949</span>,<span class="hljs-number">135.72955</span>]).bindPopup(<span class="hljs-string">&apos;Kinkakuji&apos;</span>).addTo(markers),
        L.marker([<span class="hljs-number">35.0303</span>,<span class="hljs-number">135.7349</span>]).bindPopup(<span class="hljs-string">&apos;Kitanotenmangu&apos;</span>).addTo(markers);


    <span class="hljs-keyword">const</span> webmap = L.map(<span class="hljs-string">&apos;map&apos;</span>,{
            <span class="hljs-attr">center</span>:[<span class="hljs-number">34.9849</span>,<span class="hljs-number">135.7586</span>],
            <span class="hljs-attr">zoom</span>:<span class="hljs-number">12</span>,
            <span class="hljs-attr">layers</span>:[basemap,markers]
        });

    <span class="hljs-keyword">const</span> maps = {
    <span class="hljs-string">&quot;OSM&quot;</span>:basemap,
    <span class="hljs-string">&quot;Aerial photo（2007～）&quot;</span>:addmap1
    };

    <span class="hljs-keyword">const</span> spots = {
        <span class="hljs-string">&quot;Sightseeing spots&quot;</span>: markers,
    };


    L.control.layers(maps,spots).addTo(webmap);

    L.control.scale({<span class="hljs-attr">imperial</span>: <span class="hljs-literal">false</span>}).addTo(webmap);

    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="introduction">Introduction</h2>
<p>In the following, the material explains the method for creating a web map using the Hosted Version of Leaflet. Before implementing the web map, create a folder named <code>webmap</code>. Then, open a text editor, copy and paste the following code, and save it as <code>webmap.html</code> inside that folder.</p>
<pre><code class="lang-html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>webmap<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="obtaining-the-hosted-version-of-leaflet">Obtaining the Hosted Version of Leaflet</h2>
<p>Access to <a href="https://leafletjs.com/download.html" target="_blank">Leaflet</a>，and copy the code in <code>Using a Hosted Version of Leaflet</code> </p>
<p><img src="pic/web_1.png" alt="web"></p>
<p>Open <code>webmap.html</code> in text editor, and paste the code within the <code>&lt;head&gt;</code> tag as shown below.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>webmap<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.css&quot;</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=&quot;</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/leaflet@1.9.4/dist/leaflet.js&quot;</span> <span class="hljs-attr">integrity</span>=<span class="hljs-string">&quot;sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=&quot;</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
</code></pre>
<p>Paste <code>&lt;div id=&quot;map&quot; style=&quot;height: 100%; width: 100%;&quot;&gt;&lt;/div&gt;</code> in <code>&lt;body&gt;</code> tag. Create <code>&lt;script&gt;</code> tag in <code>&lt;body&gt;</code> tag as shown below.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;map0&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 500px; height: 500px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
</code></pre>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="setting-background-maps">Setting background maps</h2>
<p>In the <code>&lt;script&gt;</code> within the <code>&lt;body&gt;</code>, add the code as shown below. In <code>setView([51.505, -0.09], 13)</code>, enter the latitude, longitude, and map&apos;s zoom level to specify the initial display position. To load tiles, set the URL for the tile layer and credit information in <code>L.tileLayer</code>. The learners use the standard map provided by OpenStreetMap (OSM), which offers multiple tile layers. After created the code in text editor, it is need to save its file.</p>
<pre><code class="lang-JavaScript">    <span class="hljs-keyword">const</span> webmap = L.map(<span class="hljs-string">&apos;map&apos;</span>).setView([<span class="hljs-number">34.9849</span>,<span class="hljs-number">135.7586</span>], <span class="hljs-number">14</span>);

    <span class="hljs-keyword">const</span> basemap = L.tileLayer(<span class="hljs-string">&apos;https://tile.openstreetmap.org/{z}/{x}/{y}.png&apos;</span>, {
        <span class="hljs-attr">maxZoom</span>: <span class="hljs-number">19</span>,
        <span class="hljs-attr">attribution</span>: <span class="hljs-string">&apos;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;&apos;</span>
    }).addTo(webmap);
</code></pre>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="save-and-display-a-web-map">Save and display a web map</h2>
<p>Open the <code>web map.html</code> in web browser. The map is appeared as shown below.</p>
<p><img src="pic/web_2.png" alt="web"></p>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="setting-multiple-layers">Setting multiple layers</h2>
<p>Delete the code in the <code>&lt;script&gt;</code> that was written in the previous step, and then proceed with the following procedure. Here, the material explains a method for loading multiple tile layers and switching between them in the map window. In this section, learners can attempt to import an aerial photographs tile provided by the Geospatial Information Authority of Japan.</p>
<pre><code class="lang-JavaScript"><span class="hljs-keyword">const</span> basemap = L.tileLayer(<span class="hljs-string">&apos;https://tile.openstreetmap.org/{z}/{x}/{y}.png&apos;</span>, {
        <span class="hljs-attr">maxZoom</span>: <span class="hljs-number">19</span>,
        <span class="hljs-attr">attribution</span>: <span class="hljs-string">&apos;&amp;copy; &lt;a href=&quot;http://www.openstreetmap.org/copyright&quot;&gt;OpenStreetMap&lt;/a&gt;&apos;</span>
    })

<span class="hljs-keyword">const</span> addmap1 = L.tileLayer(<span class="hljs-string">&apos;https://cyberjapandata.gsi.go.jp/xyz/ort/{z}/{x}/{y}.jpg&apos;</span>, {
<span class="hljs-attr">maxZoom</span>: <span class="hljs-number">18</span>,
<span class="hljs-attr">attribution</span>: <span class="hljs-string">&quot;&lt;a href=&apos;https://maps.gsi.go.jp/development/ichiran.html&apos; target=&apos;_blank&apos;&gt;GSI maps&lt;/a&gt;&quot;</span>
});

<span class="hljs-keyword">const</span> webmap = L.map(<span class="hljs-string">&apos;map&apos;</span>,{
    <span class="hljs-attr">center</span>:[<span class="hljs-number">34.9849</span>,<span class="hljs-number">135.7586</span>],
    <span class="hljs-attr">zoom</span>:<span class="hljs-number">14</span>,
    <span class="hljs-attr">layers</span>:[basemap] <span class="hljs-comment">//A layer is displayed when the map is opened.</span>
});

<span class="hljs-comment">//Grouping tile layers</span>
<span class="hljs-keyword">const</span> maps = {
<span class="hljs-string">&quot;OSM&quot;</span>:basemap,
<span class="hljs-string">&quot;Aerial photo（2007～）&quot;</span>:addmap1
};

<span class="hljs-comment">// Setting layer selecting box</span>
L.control.layers(maps).addTo(webmap);
</code></pre>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="creating-point-line-and-polygon">Creating point, line, and polygon</h2>
<p>In this section, the material explains the creating method for points, lines, and polygons layers using coordinate information.</p>
<h3 id="obtain-coordinate-information-using-osm">Obtain coordinate information using OSM</h3>
<p>Before demonstrating data creation methods using Leaflet, introduce how to obtain coordinate information using an online map. <a href="https://www.openstreetmap.org/" target="_blank">OpenStreetMap (OSM) </a>has a function that allows users to display coordinate information. Open the OSM and select <code>Show address</code> by right-clicking on the map.</p>
<p><img src="pic/web_3.png" alt="web"></p>
<h3 id="point-layer">Point layer</h3>
<p>The learners only need to read the following sections: <code>Point Layer</code>, <code>Line Layer</code>, and <code>Polygon Layer</code>. Trying these sections requires knowledge of JavaScript. The learners are encouraged to start from the <code>Grouping and Implementing Layers in the Web Map</code> section. If you wish to practice creating each type of layer, the procedures: Following <code>L.control.layers(maps).addTo(webmap);</code>, <code>const point = 〇〇.addTo(webmap);</code>.</p>
<p>To create a point (marker) layer, use the code shown below. <code>L.marker([34.9850, 135.7588])</code> defines the location of the point. The <code>bindPopup</code> function refers to a popup that is displayed when a user clicks on the point.</p>
<pre><code class="lang-JavaScript">L.marker([<span class="hljs-number">34.9850</span>,<span class="hljs-number">135.7588</span>]).bindPopup(<span class="hljs-string">&apos;Kyoto station&apos;</span>).addTo(webmap);
</code></pre>
<h3 id="line-layer">Line layer</h3>
<p>To create a line (polyline) layer, follow the code as shown below. Describing the line layer requires setting the line color and width (weight).</p>
<pre><code class="lang-JavaScript">L.polyline([
    [<span class="hljs-number">34.9849</span>,<span class="hljs-number">135.7586</span>],
    [<span class="hljs-number">34.9853</span>,<span class="hljs-number">135.7533</span>],
    [<span class="hljs-number">35.0138</span>,<span class="hljs-number">135.7516</span>]
], {<span class="hljs-attr">color</span>: <span class="hljs-string">&apos;yellow&apos;</span>,<span class="hljs-attr">weight</span>: <span class="hljs-number">3.0</span>}).bindPopup(<span class="hljs-string">&apos;Kyoto station to Nijojo&apos;</span>).addTo(webmap);
</code></pre>
<h3 id="polygon-layer">Polygon layer</h3>
<p>To create a polygon layer, follow the code as shown below. Describing the polygon layer requires setting the polygon color and opacity.</p>
<pre><code class="lang-JavaScript">L.polygon([
    [<span class="hljs-number">34.9871</span>,<span class="hljs-number">135.7531</span>],
    [<span class="hljs-number">34.9871</span>,<span class="hljs-number">135.7626</span>],
    [<span class="hljs-number">34.9844</span>,<span class="hljs-number">135.7627</span>],
    [<span class="hljs-number">34.9841</span>,<span class="hljs-number">135.7537</span>]
], {<span class="hljs-attr">color</span>:<span class="hljs-string">&apos;pink&apos;</span>,<span class="hljs-attr">fillOpacity</span>:<span class="hljs-number">0.5</span>}).bindPopup(<span class="hljs-string">&apos;Area&apos;</span>).addTo(webmap);
</code></pre>
<h3 id="grouping-and-implementing-layers-to-web-map">Grouping and implementing layers to web map</h3>
<p>This section explains a method for grouping markers using <code>L.layerGroup()</code> and adding them to the map.</p>
<pre><code class="lang-JavaScript"><span class="hljs-keyword">var</span> markers = L.layerGroup();

L.marker([<span class="hljs-number">34.9849</span>,<span class="hljs-number">135.7586</span>]).bindPopup(<span class="hljs-string">&apos;Kyoto station&apos;</span>).addTo(markers),
L.marker([<span class="hljs-number">35.0138</span>,<span class="hljs-number">135.7516</span>]).bindPopup(<span class="hljs-string">&apos;Nijoujo&apos;</span>).addTo(markers),
L.marker([<span class="hljs-number">35.03949</span>,<span class="hljs-number">135.72955</span>]).bindPopup(<span class="hljs-string">&apos;Kinkakuji&apos;</span>).addTo(markers),
L.marker([<span class="hljs-number">35.0303</span>,<span class="hljs-number">135.7349</span>]).bindPopup(<span class="hljs-string">&apos;Kitanotenmangu&apos;</span>).addTo(markers);

<span class="hljs-keyword">const</span> webmap = L.map(<span class="hljs-string">&apos;map&apos;</span>,{
        <span class="hljs-attr">center</span>:[<span class="hljs-number">34.9849</span>,<span class="hljs-number">135.7586</span>],
        <span class="hljs-attr">zoom</span>:<span class="hljs-number">12</span>,
        <span class="hljs-attr">layers</span>:[basemap,markers] <span class="hljs-comment">// Layers are displayed when the map is opened.</span>
    });

<span class="hljs-comment">// Listing tile layers for displaying in the layer selection box.</span>
<span class="hljs-keyword">const</span> maps = {
<span class="hljs-string">&quot;OSM&quot;</span>:basemap,
<span class="hljs-string">&quot;Aerial photo（2007～）&quot;</span>:addmap1
};


<span class="hljs-comment">// Listing vector layers for displaying in the layer selection box.</span>
<span class="hljs-keyword">const</span> spots = {
    <span class="hljs-string">&quot;Sightseeing spots&quot;</span>: markers,
};

<span class="hljs-comment">// Adding features to the layer selecting box.</span>
L.control.layers(maps,spots).addTo(webmap);
</code></pre>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="implementing-a-scale">Implementing a scale</h2>
<p>Learners can add a scale bar by including the following code at the end of the <code>&lt;script&gt;</code>.</p>
<pre><code class="lang-Javascript">L.control.scale({<span class="hljs-attr">imperial</span>: <span class="hljs-literal">false</span>}).addTo(webmap);
</code></pre>
<p>Finally, open the map in a web browser and confirm that the online map is created just like the finished example.</p>
<p><a href="Leaflet.md#Menu">▲ Back to Menu</a></p>
<h2 id="week-6-assignment">Week 6 Assignment</h2>
<p>Create an online map using Leaflet.js that showcases tourist attractions in Japan. The map should feature at least five tourist spots. After developing the map, take a screenshot such as below image.</p>
<p><img src="pic/web-1.png" alt="img"></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../e/e.html" class="navigation navigation-prev " aria-label="Previous page: Raster data analysis">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../../QGIS_3days/" class="navigation navigation-next " aria-label="Next page: QGIS:ja">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Introduction to Leaflet","level":"1.4.6","depth":2,"next":{"title":"QGIS:ja","level":"1.5","depth":1,"path":"QGIS_3days/README.md","ref":"./QGIS_3days/README.md","articles":[{"title":"Day 1","level":"1.5.1","depth":2,"path":"QGIS_3days/day1/README.md","ref":"./QGIS_3days/day1/README.md","articles":[{"title":"QGIS入門","level":"1.5.1.1","depth":3,"path":"QGIS_3days/day1/qgis.md","ref":"./QGIS_3days/day1/qgis.md","articles":[]},{"title":"課題①","level":"1.5.1.2","depth":3,"path":"QGIS_3days/day1/tasks/t_qgis_entry.md","ref":"./QGIS_3days/day1/tasks/t_qgis_entry.md","articles":[]},{"title":"データダウンロード","level":"1.5.1.3","depth":3,"path":"QGIS_3days/day1/07.md","ref":"./QGIS_3days/day1/07.md","articles":[{"title":"課題②","level":"1.5.1.3.1","depth":4,"path":"QGIS_3days/day1/tasks/t_07.md","ref":"./QGIS_3days/day1/tasks/t_07.md","articles":[]}]},{"title":"ネットワーク分析","level":"1.5.1.4","depth":3,"path":"QGIS_3days/day1/12.md","ref":"./QGIS_3days/day1/12.md","articles":[]},{"title":"課題③","level":"1.5.1.5","depth":3,"path":"QGIS_3days/day1/tasks/t_12.md","ref":"./QGIS_3days/day1/tasks/t_12.md","articles":[]}]},{"title":"Day 2","level":"1.5.2","depth":2,"path":"QGIS_3days/day2/README.md","ref":"./QGIS_3days/day2/README.md","articles":[{"title":"空間座標系の変換","level":"1.5.2.1","depth":3,"path":"QGIS_3days/day2/08_1.md","ref":"./QGIS_3days/day2/08_1.md","articles":[]},{"title":"課題①","level":"1.5.2.2","depth":3,"path":"QGIS_3days/day2/tasks/t_08.md","ref":"./QGIS_3days/day2/tasks/t_08.md","articles":[]},{"title":"基本的な空間解析","level":"1.5.2.3","depth":3,"path":"QGIS_3days/day2/11.md","ref":"./QGIS_3days/day2/11.md","articles":[]},{"title":"課題②〜③","level":"1.5.2.4","depth":3,"path":"QGIS_3days/day2/tasks/t_11.md","ref":"./QGIS_3days/day2/tasks/t_11.md","articles":[]},{"title":"領域分析（バッファ）","level":"1.5.2.5","depth":3,"path":"QGIS_3days/day2/13.md","ref":"./QGIS_3days/day2/13.md","articles":[]},{"title":"課題④","level":"1.5.2.6","depth":3,"path":"QGIS_3days/day2/tasks/t_13.md","ref":"./QGIS_3days/day2/tasks/t_13.md","articles":[]},{"title":"点データの分析","level":"1.5.2.7","depth":3,"path":"QGIS_3days/day2/14.md","ref":"./QGIS_3days/day2/14.md","articles":[]},{"title":"課題⑤","level":"1.5.2.8","depth":3,"path":"QGIS_3days/day2/tasks/t_14.md","ref":"./QGIS_3days/day2/tasks/t_14.md","articles":[]}]},{"title":"Day 3","level":"1.5.3","depth":2,"path":"QGIS_3days/day3/README.md","ref":"./QGIS_3days/day3/README.md","articles":[{"title":"空間データの作成","level":"1.5.3.1","depth":3,"path":"QGIS_3days/day3/10a.md","ref":"./QGIS_3days/day3/10a.md","articles":[]},{"title":"課題①","level":"1.5.3.2","depth":3,"path":"QGIS_3days/day3/tasks/t_10.md","ref":"./QGIS_3days/day3/tasks/t_10.md","articles":[]},{"title":"地形情報の可視化","level":"1.5.3.3","depth":3,"path":"QGIS_3days/day3/15.md","ref":"./QGIS_3days/day3/15.md","articles":[]},{"title":"課題②","level":"1.5.3.4","depth":3,"path":"QGIS_3days/day3/tasks/t_15.md","ref":"./QGIS_3days/day3/tasks/t_15.md","articles":[]},{"title":"流域解析","level":"1.5.3.5","depth":3,"path":"QGIS_3days/day3/15_1.md","ref":"./QGIS_3days/day3/15_1.md","articles":[]},{"title":"課題③","level":"1.5.3.6","depth":3,"path":"QGIS_3days/day3/tasks/t_15_1.md","ref":"./QGIS_3days/day3/tasks/t_15_1.md","articles":[]},{"title":"空間補間","level":"1.5.3.7","depth":3,"path":"QGIS_3days/day3/18.md","ref":"./QGIS_3days/day3/18.md","articles":[]},{"title":"課題④〜⑤","level":"1.5.3.8","depth":3,"path":"QGIS_3days/day3/tasks/t_18.md","ref":"./QGIS_3days/day3/tasks/t_18.md","articles":[]}]}]},"previous":{"title":"Raster data analysis","level":"1.4.5","depth":2,"path":"QGIS_en/e/e.md","ref":"./QGIS_en/e/e.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-sharing","-sharing-plus","collapsible-menu","creativecommons","favicon","ga","github","github-buttons"],"root":".","styles":{"website":"styles/website.css"},"pluginsConfig":{"collapsible-menu":{},"github":{"url":"https://github.com/yamauchi-inochu/learning"},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"favicon":{"shortcut":"./img/favicon.ico","bookmark":"./img/favicon.ico","appleTouch":"./img/apple-touch-icon.png","appleTouchMore":{"120x120":"./img/favicon.ico","180x180":"./img/favicon.ico"}},"github-buttons":{"buttons":[{"user":"yamauchi-inochu","repo":"learning","type":"star","size":"small","count":true}]},"creativecommons":{},"ga":{"configuration":"auto","token":"x"},"sharing":{"qq":false,"all":["facebook","google"],"douban":false,"facebook":false,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":false,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"test","honkit":">= 4.0.4","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"test","language":"ja","gitbook":"*"},"file":{"path":"QGIS_en/f/f.md","mtime":"2024-05-03T05:12:52.837Z","type":"markdown"},"gitbook":{"version":"3.7.1","time":"2024-05-30T09:06:02.905Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

